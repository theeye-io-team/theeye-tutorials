{"task":{"order":0,"enable":true,"type":"script","public":false,"tags":["section 5"],"grace_time":0,"task_arguments":[{"id":1,"order":0,"type":"input","label":"lote","value":"","help":"","readonly":false,"required":true,"multiple":false,"masked":false,"charsmin":0,"charsmax":0,"charset":null,"pattern":"","options":[]}],"arguments_type":"legacy","output_parameters":[],"register_body":false,"execution_count":38,"multitasking":true,"show_result":false,"assigned_users":[],"user_inputs":false,"user_inputs_members":[],"empty_viewers":false,"cancellable":true,"autoremove_completed_jobs_limit":5,"script_arguments":[{"id":1,"order":0,"type":"input","label":"lote","value":"","help":"","readonly":false,"required":true,"multiple":false,"masked":false,"charsmin":0,"charsmax":0,"charset":null,"pattern":"","options":[]}],"logging":false,"_type":"ScriptTask","creation_date":"2022-01-18T00:22:41.850Z","last_update":"2022-01-24T19:15:07.393Z","env":{"PROCESSED_DIRECTORY":""},"name":"10.6. Reporte de Totales por Concepto","description":"","timeout":600000,"allows_dynamic_settings":false,"script_runas":"node %script%","template":null,"template_id":null,"source_model_id":"61e60851fc4d8c00127dbdf5"},"file":{"order":0,"filename":"section_10.6.js","keyname":"section_10.6.js[ts:1643051693179]","mimetype":"text/javascript","extension":"js","size":3136,"description":"","md5":"6f179edcfa486b2f8a1030c55034b46b","public":false,"tags":[],"source_model_id":"61e5dcfa724e690012fd097e","data":"Ly8gZXJyb3IgYW5kIG91dHB1dCBoYW5kbGVycyBtdXN0IGdvIGZpcnN0LgoKLyoqCiAqIEBwYXJhbSB7T2JqZWN0fQogKiBAcHJvcCB7TWl4ZWR9IGRhdGEKICogQHByb3Age0FycmF5fSBjb21wb25lbnRzCiAqIEBwcm9wIHtPYmplY3R9IG5leHQKICovCmNvbnN0IHN1Y2Nlc3NPdXRwdXQgPSAoeyBkYXRhLCBjb21wb25lbnRzLCBuZXh0IH0pID0+IHsKICAvLyBodHRwczovL2RvY3VtZW50YXRpb24udGhlZXllLmlvL2NvcmUtY29uY2VwdHMvc2NyaXB0cy8jcGFzc2luZy1hcmd1bWVudHMtaW4td29ya2Zsb3cKICBjb25zdCBvdXRwdXQgPSB7CiAgICBzdGF0ZTogInN1Y2Nlc3MiLAogICAgZGF0YSwKICAgIGNvbXBvbmVudHMsIC8vIGh0dHBzOi8vZG9jdW1lbnRhdGlvbi50aGVleWUuaW8vY29yZS1jb25jZXB0cy90YXNrcy9zY3JpcHRfdHlwZS8jY29tcG9uZW50cwogICAgbmV4dAogIH0KICBjb25zb2xlLmxvZyggSlNPTi5zdHJpbmdpZnkob3V0cHV0KSApCiAgcHJvY2Vzcy5leGl0KDApCn0KCi8qKgogKiBAcGFyYW0ge0Vycm9yfSBlcnIKICovCmNvbnN0IGZhaWx1cmVPdXRwdXQgPSAoZXJyKSA9PiB7CiAgY29uc29sZS5lcnJvcihlcnIpCiAgY29uc3Qgb3V0cHV0ID0gewogICAgc3RhdGU6ICJmYWlsdXJlIiwKICAgIGRhdGE6IHsKICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsCiAgICAgIGNvZGU6IGVyci5jb2RlLAogICAgICBkYXRhOiBlcnIuZGF0YSAKICAgIH0KICB9CiAgY29uc29sZS5lcnJvciggSlNPTi5zdHJpbmdpZnkob3V0cHV0KSApCiAgcHJvY2Vzcy5leGl0KDEpCn0KCnByb2Nlc3Mub24oJ3VuaGFuZGxlZFJlamVjdGlvbicsIChyZWFzb24sIHApID0+IHsKICBjb25zb2xlLmVycm9yKHJlYXNvbiwgJ1VuaGFuZGxlZCBSZWplY3Rpb24gYXQgUHJvbWlzZScsIHApCiAgZmFpbHVyZU91dHB1dChyZWFzb24pCn0pCgpwcm9jZXNzLm9uKCd1bmNhdWdodEV4Y2VwdGlvbicsIGVyciA9PiB7CiAgY29uc29sZS5lcnJvcihlcnIsICdVbmNhdWdodCBFeGNlcHRpb24gdGhyb3duJykKICBmYWlsdXJlT3V0cHV0KGVycikKfSkKCgpjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJykKCmNvbnN0IG1haW4gPSBtb2R1bGUuZXhwb3J0cyA9IGFzeW5jICgpID0+IHsKCiAgY29uc3QgYXJncyA9IHByb2Nlc3MuYXJndi5zbGljZSgyKQogIGNvbnN0IGxvdGUgPSBhcmdzWzBdCiAgCiAgbGV0IHJlcG9ydGUgPSBbCiAgICBbCiAgICAgICdOdW1lcm8gT1AnLAogICAgICAnRmVjaGEgZGUgcGFnbycsCiAgICAgICdUaXBvIGRlIENhbWJpbyBWZW50YScsCiAgICAgICdUb3RhbCBJbXBvcnRlIEJydXRvIGVuIFBlc29zJywKICAgICAgJ1RvdGFsIEltcG9ydGUgQnJ1dG8gZW4gVVNEJywKICAgICAgJ1RvdGFsIEltcG9ydGUgRkVFIGVuIFBlc29zJywKICAgICAgJ1RvdGFsIEltcG9ydGUgRkVFIGVuIFVTRCcKICAgIF0KICBdCiAgICAKICBjb25zdCBmaWxlcyA9IGZzLnJlYWRkaXJTeW5jKCBgJHtwcm9jZXNzLmVudi5QUk9DRVNTRURfRElSRUNUT1JZfS8ke2xvdGV9YCApCiAgZmlsZXMuZm9yRWFjaChmaWxlbmFtZSA9PiB7CiAgICBjb25zb2xlLmxvZyhgcmVkaW5nIGZpbGUgJHtmaWxlbmFtZX1gKQogICAgY29uc3QgY29udGVudCA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKGAke3Byb2Nlc3MuZW52LlBST0NFU1NFRF9ESVJFQ1RPUll9LyR7bG90ZX0vJHtmaWxlbmFtZX1gKSkKICAgIGNvbnN0IGZpbGEgPSBuZXcgQXJyYXkoNykKICAgIGZvciAobGV0IGk9MDsgaTxmaWxhLmxlbmd0aDsgaSsrKSB7IGZpbGFbaV0gPSAnJyB9CiAgICBmaWxhWzNdID0gdG90YWxpemUoY29udGVudFsnQlJVVE8nXSkKICAgIGZpbGFbNF0gPSBkb2xsYXJpemUoZmlsYVszXSwgY29udGVudFsnY290aXphY2lvbiddKQogICAgZmlsYVs1XSA9IHRvdGFsaXplKGNvbnRlbnRbJ0ZFRSddKQogICAgZmlsYVs2XSA9IGRvbGxhcml6ZShmaWxhWzVdLCBjb250ZW50Wydjb3RpemFjaW9uJ10pCiAgICByZXBvcnRlLnB1c2goZmlsYSkKICB9KQoKICByZXR1cm4geyBkYXRhOiBtYWtlVGFibGVIVE1MKHJlcG9ydGUpIH0KfQpmdW5jdGlvbiBkb2xsYXJpemUgKHZhbHVlLCBjb3RpemFjaW9uKSB7CiAgY29uc29sZS5sb2coYHBlc29zOiAke3ZhbHVlfWApCiAgY29uc29sZS5sb2coYGNvdGl6YWNpw7NuOiAke2NvdGl6YWNpb24uaGlzdG9yaWNvLmRvbGFyWzBdLlZlbnRhfWApCiAgCiAgY29uc3QgcGVzb3MgPSBOdW1iZXIucGFyc2VGbG9hdCh2YWx1ZS5yZXBsYWNlKCcsJywnJykpCiAgY29uc3QgdXNkID0gTnVtYmVyLnBhcnNlRmxvYXQoY290aXphY2lvbi5oaXN0b3JpY28uZG9sYXJbMF0uVmVudGEucmVwbGFjZSgnLicsJycpLnJlcGxhY2UoJywnLCcuJykpCgogIGNvbnNvbGUubG9nKGAke3Blc29zfS8ke3VzZH1gKQogIHJldHVybiAocGVzb3MgLyB1c2QpLnRvRml4ZWQoMikudG9Mb2NhbGVTdHJpbmcoJ2VzLUFSJykKfQpmdW5jdGlvbiB0b3RhbGl6ZSAodmFsdWVzKSB7CiAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoKHN1bSwgYSkgPT4gc3VtICsgc3RyVG9OdW1DYWxjKGEpLCAwKS50b0xvY2FsZVN0cmluZygnZXMtQVInKQp9CmZ1bmN0aW9uIG1ha2VUYWJsZUhUTUwgKG15QXJyYXkpIHsKICAgIHZhciByZXN1bHQgPSAiPHRhYmxlIGJvcmRlcj0xPiI7CiAgICBmb3IobGV0IGk9MDsgaTxteUFycmF5Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgcmVzdWx0ICs9ICI8dHI+IjsKICAgICAgICBmb3IobGV0IGo9MDsgajxteUFycmF5W2ldLmxlbmd0aDsgaisrKXsKICAgICAgICAgICAgcmVzdWx0ICs9ICI8dGQ+IitteUFycmF5W2ldW2pdKyI8L3RkPiI7CiAgICAgICAgfQogICAgICAgIHJlc3VsdCArPSAiPC90cj4iOwogICAgfQogICAgcmVzdWx0ICs9ICI8L3RhYmxlPiI7CgogICAgcmV0dXJuIHJlc3VsdDsKfQoKLyoqCiAqIEBwYXJhbSBTdHJpbmcKICogQHJldHVybiBOdW1iZXIKICovCmNvbnN0IHN0clRvTnVtQ2FsYyA9IChzdHIpID0+IHsKICByZXR1cm4gTnVtYmVyKHN0ci5yZXBsYWNlKCcuJywnJykucmVwbGFjZSgnLCcsJy4nKSkKfQoKLy8gaW52b2tlIG1haW4gYW5kIGNhcHR1cmUgcmVzdWx0IG91dHB1dAptYWluKCBwcm9jZXNzLmFyZ3Yuc2xpY2UoMikgKS50aGVuKHN1Y2Nlc3NPdXRwdXQpLmNhdGNoKGZhaWx1cmVPdXRwdXQpCg=="}}