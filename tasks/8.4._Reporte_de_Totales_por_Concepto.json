{"task":{"order":0,"enable":true,"type":"script","public":false,"tags":["section 5"],"grace_time":0,"task_arguments":[{"id":1,"order":0,"type":"input","label":"lote","value":"","help":"","readonly":false,"required":true,"multiple":false,"masked":false,"charsmin":0,"charsmax":0,"charset":null,"pattern":"","options":[]}],"arguments_type":"legacy","output_parameters":[],"register_body":false,"execution_count":17,"multitasking":true,"show_result":false,"assigned_users":[],"user_inputs":false,"user_inputs_members":[],"empty_viewers":false,"cancellable":true,"autoremove_completed_jobs_limit":5,"script_arguments":[{"id":1,"order":0,"type":"input","label":"lote","value":"","help":"","readonly":false,"required":true,"multiple":false,"masked":false,"charsmin":0,"charsmax":0,"charset":null,"pattern":"","options":[]}],"logging":false,"_type":"ScriptTask","creation_date":"2022-01-18T00:22:41.850Z","last_update":"2022-01-18T01:27:17.774Z","env":{"PROCESSED_DIRECTORY":""},"name":"8.4. Reporte de Totales por Concepto","description":"","timeout":600000,"allows_dynamic_settings":false,"script_runas":"node %script%","template":null,"template_id":null,"source_model_id":"61e60851fc4d8c00127dbdf5"},"file":{"order":0,"filename":"section_8.4.js","keyname":"section_8.4.js[ts:1642468423421]","mimetype":"text/javascript","extension":"js","size":2585,"description":"","md5":"6db60d6f00946e38495b14022e3065d5","public":false,"tags":[],"source_model_id":"61e5dcfa724e690012fd097e","data":"Ly8gZXJyb3IgYW5kIG91dHB1dCBoYW5kbGVycyBtdXN0IGdvIGZpcnN0LgoKLyoqCiAqIEBwYXJhbSB7T2JqZWN0fQogKiBAcHJvcCB7TWl4ZWR9IGRhdGEKICogQHByb3Age0FycmF5fSBjb21wb25lbnRzCiAqIEBwcm9wIHtPYmplY3R9IG5leHQKICovCmNvbnN0IHN1Y2Nlc3NPdXRwdXQgPSAoeyBkYXRhLCBjb21wb25lbnRzLCBuZXh0IH0pID0+IHsKICAvLyBodHRwczovL2RvY3VtZW50YXRpb24udGhlZXllLmlvL2NvcmUtY29uY2VwdHMvc2NyaXB0cy8jcGFzc2luZy1hcmd1bWVudHMtaW4td29ya2Zsb3cKICBjb25zdCBvdXRwdXQgPSB7CiAgICBzdGF0ZTogInN1Y2Nlc3MiLAogICAgZGF0YSwKICAgIGNvbXBvbmVudHMsIC8vIGh0dHBzOi8vZG9jdW1lbnRhdGlvbi50aGVleWUuaW8vY29yZS1jb25jZXB0cy90YXNrcy9zY3JpcHRfdHlwZS8jY29tcG9uZW50cwogICAgbmV4dAogIH0KICBjb25zb2xlLmxvZyggSlNPTi5zdHJpbmdpZnkob3V0cHV0KSApCiAgcHJvY2Vzcy5leGl0KDApCn0KCi8qKgogKiBAcGFyYW0ge0Vycm9yfSBlcnIKICovCmNvbnN0IGZhaWx1cmVPdXRwdXQgPSAoZXJyKSA9PiB7CiAgY29uc29sZS5lcnJvcihlcnIpCiAgY29uc3Qgb3V0cHV0ID0gewogICAgc3RhdGU6ICJmYWlsdXJlIiwKICAgIGRhdGE6IHsKICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsCiAgICAgIGNvZGU6IGVyci5jb2RlLAogICAgICBkYXRhOiBlcnIuZGF0YSAKICAgIH0KICB9CiAgY29uc29sZS5lcnJvciggSlNPTi5zdHJpbmdpZnkob3V0cHV0KSApCiAgcHJvY2Vzcy5leGl0KDEpCn0KCnByb2Nlc3Mub24oJ3VuaGFuZGxlZFJlamVjdGlvbicsIChyZWFzb24sIHApID0+IHsKICBjb25zb2xlLmVycm9yKHJlYXNvbiwgJ1VuaGFuZGxlZCBSZWplY3Rpb24gYXQgUHJvbWlzZScsIHApCiAgZmFpbHVyZU91dHB1dChyZWFzb24pCn0pCgpwcm9jZXNzLm9uKCd1bmNhdWdodEV4Y2VwdGlvbicsIGVyciA9PiB7CiAgY29uc29sZS5lcnJvcihlcnIsICdVbmNhdWdodCBFeGNlcHRpb24gdGhyb3duJykKICBmYWlsdXJlT3V0cHV0KGVycikKfSkKCgpjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJykKCmNvbnN0IG1haW4gPSBtb2R1bGUuZXhwb3J0cyA9IGFzeW5jICgpID0+IHsKCiAgY29uc3QgYXJncyA9IHByb2Nlc3MuYXJndi5zbGljZSgyKQogIGNvbnN0IGxvdGUgPSBhcmdzWzBdCiAgCiAgbGV0IHJlcG9ydGUgPSBbCiAgICBbCiAgICAgICdOdW1lcm8gT1AnLAogICAgICAnRmVjaGEgZGUgcGFnbycsCiAgICAgICdUaXBvIGRlIENhbWJpbyBWZW50YScsCiAgICAgICdUb3RhbCBJbXBvcnRlIEJydXRvIGVuIFBlc29zJywKICAgICAgJ1RvdGFsIEltcG9ydGUgQnJ1dG8gZW4gVVNEJywKICAgICAgJ1RvdGFsIEltcG9ydGUgRkVFIGVuIFBlc29zJywKICAgICAgJ1RvdGFsIEltcG9ydGUgRkVFIGVuIFVTRCcKICAgIF0KICBdCiAgICAKICBjb25zdCBmaWxlcyA9IGZzLnJlYWRkaXJTeW5jKCBgJHtwcm9jZXNzLmVudi5QUk9DRVNTRURfRElSRUNUT1JZfS8ke2xvdGV9YCApCiAgZmlsZXMuZm9yRWFjaChmaWxlbmFtZSA9PiB7CiAgICBjb25zdCBjb250ZW50ID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMoYCR7cHJvY2Vzcy5lbnYuUFJPQ0VTU0VEX0RJUkVDVE9SWX0vJHtsb3RlfS8ke2ZpbGVuYW1lfWApKQogICAgY29uc3QgZmlsYSA9IG5ldyBBcnJheSg3KQogICAgZm9yIChsZXQgaT0wOyBpPGZpbGEubGVuZ3RoOyBpKyspIHsgZmlsYVtpXSA9ICcnIH0KICAgIGZpbGFbM10gPSB0b3RhbGl6ZShjb250ZW50WydCUlVUTyddKQogICAgZmlsYVs1XSA9IHRvdGFsaXplKGNvbnRlbnRbJ0ZFRSddKQogICAgcmVwb3J0ZS5wdXNoKGZpbGEpCiAgfSkKICAKICByZXR1cm4geyBkYXRhOiBtYWtlVGFibGVIVE1MKHJlcG9ydGUpIH0KfQoKZnVuY3Rpb24gdG90YWxpemUgKHZhbHVlcykgewogIHJldHVybiB2YWx1ZXMucmVkdWNlKChzdW0sIGEpID0+IHN1bSArIHN0clRvTnVtQ2FsYyhhKSwgMCkudG9Mb2NhbGVTdHJpbmcoJ2VzLUFSJykKfQpmdW5jdGlvbiBtYWtlVGFibGVIVE1MIChteUFycmF5KSB7CiAgICB2YXIgcmVzdWx0ID0gIjx0YWJsZSBib3JkZXI9MT4iOwogICAgZm9yKGxldCBpPTA7IGk8bXlBcnJheS5sZW5ndGg7IGkrKykgewogICAgICAgIHJlc3VsdCArPSAiPHRyPiI7CiAgICAgICAgZm9yKGxldCBqPTA7IGo8bXlBcnJheVtpXS5sZW5ndGg7IGorKyl7CiAgICAgICAgICAgIHJlc3VsdCArPSAiPHRkPiIrbXlBcnJheVtpXVtqXSsiPC90ZD4iOwogICAgICAgIH0KICAgICAgICByZXN1bHQgKz0gIjwvdHI+IjsKICAgIH0KICAgIHJlc3VsdCArPSAiPC90YWJsZT4iOwoKICAgIHJldHVybiByZXN1bHQ7Cn0KCi8qKgogKiBAcGFyYW0gU3RyaW5nCiAqIEByZXR1cm4gTnVtYmVyCiAqLwpjb25zdCBzdHJUb051bUNhbGMgPSAoc3RyKSA9PiB7CiAgcmV0dXJuIE51bWJlcihzdHIucmVwbGFjZSgnLicsJycpLnJlcGxhY2UoJywnLCcuJykpCn0KCi8vIGludm9rZSBtYWluIGFuZCBjYXB0dXJlIHJlc3VsdCBvdXRwdXQKbWFpbiggcHJvY2Vzcy5hcmd2LnNsaWNlKDIpICkudGhlbihzdWNjZXNzT3V0cHV0KS5jYXRjaChmYWlsdXJlT3V0cHV0KQo="}}